{"remainingRequest":"/Users/jannikschilling/Downloads/Whiteboard-master-4/node_modules/thread-loader/dist/cjs.js!/Users/jannikschilling/Downloads/Whiteboard-master-4/node_modules/babel-loader/lib/index.js!/Users/jannikschilling/Downloads/Whiteboard-master-4/node_modules/eslint-loader/index.js??ref--13-0!/Users/jannikschilling/Downloads/Whiteboard-master-4/src/tools/tool/pencil.js","dependencies":[{"path":"/Users/jannikschilling/Downloads/Whiteboard-master-4/src/tools/tool/pencil.js","mtime":1558236212000},{"path":"/Users/jannikschilling/Downloads/Whiteboard-master-4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jannikschilling/Downloads/Whiteboard-master-4/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jannikschilling/Downloads/Whiteboard-master-4/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jannikschilling/Downloads/Whiteboard-master-4/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport paper from 'paper';\nimport store from \"../../store/store\";\nimport history from \"../history\";\nimport { createLayer } from \"../shared\";\nimport { DrawAction } from \"../action\";\nvar local = {\n  path: null,\n  group: null\n};\n\nfunction onMouseDown(event) {\n  var layer = createLayer();\n  local.path = new paper.Path();\n  local.path.strokeColor = store.getters.toolArgs.color;\n  local.path.strokeWidth = store.getters.toolArgs.size;\n  local.path.add(event.point);\n  local.group = new paper.Group({\n    children: [local.path],\n    layer: layer\n  });\n  local.group.addChild(new paper.Shape.Ellipse({\n    layer: layer,\n    center: event.point,\n    strokeColor: store.getters.toolArgs.color,\n    fillColor: store.getters.toolArgs.color,\n    radius: store.getters.toolArgs.size / 2\n  }));\n  layer.addChild(local.group);\n}\n\nfunction onMouseDrag(event) {\n  if (!local.path) return;\n  local.path.add(event.point);\n  local.path.selected = true;\n}\n\nfunction onMouseUp(event) {\n  local.path.add(event.point);\n  local.path.simplify();\n  var action = new DrawAction({\n    layer: local.path.layer.name,\n    tool: store.getters.tool,\n    points: local.path.segments.map(function (seg) {\n      return {\n        x: seg._point._x,\n        y: seg._point._y\n      };\n    })\n  });\n  history.add(action);\n  local.path.selected = false;\n  local.path = null;\n  local.group = null;\n}\n\nexport var tool = new paper.Tool();\ntool.onMouseDown = onMouseDown;\ntool.onMouseDrag = onMouseDrag;\ntool.onMouseUp = onMouseUp;",{"version":3,"sources":["/Users/jannikschilling/Downloads/Whiteboard-master-4/src/tools/tool/pencil.js"],"names":["paper","store","history","createLayer","DrawAction","local","path","group","onMouseDown","event","layer","Path","strokeColor","getters","toolArgs","color","strokeWidth","size","add","point","Group","children","addChild","Shape","Ellipse","center","fillColor","radius","onMouseDrag","selected","onMouseUp","simplify","action","name","tool","points","segments","map","seg","x","_point","_x","y","_y","Tool"],"mappings":"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","sourcesContent":["import paper from 'paper';\nimport store from '../../store/store';\nimport history from '../history';\nimport { createLayer } from '../shared';\nimport { DrawAction } from '../action';\n\nlet local = {\n    path: null,\n    group: null\n}\n\n\nfunction onMouseDown(event) {\n    let layer = createLayer();\n    local.path = new paper.Path();\n    local.path.strokeColor = store.getters.toolArgs.color;\n    local.path.strokeWidth = store.getters.toolArgs.size;\n    local.path.add(event.point);\n\n    local.group = new paper.Group({\n        children: [local.path],\n        layer: layer\n    });\n    local.group.addChild(new paper.Shape.Ellipse({\n        layer: layer,\n        center: event.point,\n        strokeColor: store.getters.toolArgs.color,\n        fillColor: store.getters.toolArgs.color,\n        radius: store.getters.toolArgs.size / 2\n    }));\n    layer.addChild(local.group);\n}\n\nfunction onMouseDrag(event) {\n    if (!local.path) return;\n    local.path.add(event.point);\n    local.path.selected = true;\n}\n\n\nfunction onMouseUp(event) {\n\n    local.path.add(event.point);\n    local.path.simplify();\n    const action = new DrawAction({\n        layer: local.path.layer.name,\n        tool: store.getters.tool,\n        points: local.path.segments.map(seg => {\n            return {\n                x: seg._point._x,\n                y: seg._point._y\n            }\n        })\n    });\n\n    history.add(action);\n\n    local.path.selected = false;\n    local.path = null;\n    local.group = null;\n}\n\nexport const tool = new paper.Tool();\ntool.onMouseDown = onMouseDown;\ntool.onMouseDrag = onMouseDrag;\ntool.onMouseUp = onMouseUp;"]}]}