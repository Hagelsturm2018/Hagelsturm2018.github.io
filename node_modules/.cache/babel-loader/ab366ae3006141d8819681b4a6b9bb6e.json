{"remainingRequest":"/Users/jannikschilling/Documents/Hagelsturm2018.github.io/Whiteboard-2/node_modules/thread-loader/dist/cjs.js!/Users/jannikschilling/Documents/Hagelsturm2018.github.io/Whiteboard-2/node_modules/babel-loader/lib/index.js!/Users/jannikschilling/Documents/Hagelsturm2018.github.io/Whiteboard-2/node_modules/eslint-loader/index.js??ref--13-0!/Users/jannikschilling/Documents/Hagelsturm2018.github.io/Whiteboard-2/src/tools/tool/eraser.js","dependencies":[{"path":"/Users/jannikschilling/Documents/Hagelsturm2018.github.io/Whiteboard-2/src/tools/tool/eraser.js","mtime":1558236212000},{"path":"/Users/jannikschilling/Documents/Hagelsturm2018.github.io/Whiteboard-2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jannikschilling/Documents/Hagelsturm2018.github.io/Whiteboard-2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jannikschilling/Documents/Hagelsturm2018.github.io/Whiteboard-2/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jannikschilling/Documents/Hagelsturm2018.github.io/Whiteboard-2/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport paper from 'paper';\nimport store from \"../../store/store\";\nimport { createLayer } from \"../shared\";\nimport history from \"../history\";\nimport { DrawAction } from \"../action\";\nvar local = {\n  path: null,\n  group: null\n};\n\nfunction onMouseDown(event) {\n  var layer = createLayer();\n  local.path = new paper.Path();\n  local.path.strokeColor = store.getters.eraserArgs.color;\n  local.path.strokeWidth = store.getters.eraserArgs.size;\n  local.path.add(event.point);\n  local.group = new paper.Group({\n    children: [local.path],\n    layer: layer\n  });\n  local.group.addChild(new paper.Shape.Ellipse({\n    layer: layer,\n    center: event.point,\n    fillColor: store.getters.eraserArgs.color,\n    radius: store.getters.eraserArgs.size / 2\n  }));\n  layer.addChild(local.group);\n}\n\nfunction onMouseDrag(event) {\n  if (!local.path) return;\n  local.path.add(event.point);\n}\n\nfunction onMouseUp(event) {\n  local.path.add(event.point);\n  local.path.simplify();\n  var action = new DrawAction({\n    layer: local.path.layer.name,\n    tool: {\n      color: store.getters.tool.color,\n      size: store.getters.tool.size\n    },\n    points: local.path.segments.map(function (seg) {\n      return {\n        x: seg._point._x,\n        y: seg._point._y\n      };\n    })\n  });\n  local.path = null;\n  local.group = null;\n  history.add(action);\n}\n\nexport var tool = new paper.Tool();\ntool.onMouseDown = onMouseDown;\ntool.onMouseDrag = onMouseDrag;\ntool.onMouseUp = onMouseUp;",{"version":3,"sources":["/Users/jannikschilling/Documents/Hagelsturm2018.github.io/Whiteboard-2/src/tools/tool/eraser.js"],"names":["paper","store","createLayer","history","DrawAction","local","path","group","onMouseDown","event","layer","Path","strokeColor","getters","eraserArgs","color","strokeWidth","size","add","point","Group","children","addChild","Shape","Ellipse","center","fillColor","radius","onMouseDrag","onMouseUp","simplify","action","name","tool","points","segments","map","seg","x","_point","_x","y","_y","Tool"],"mappings":"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","sourcesContent":["import paper from 'paper';\nimport store from '../../store/store';\nimport { createLayer } from '../shared';\nimport history from '../history';\nimport { DrawAction } from '../action'\n\nlet local = {\n    path: null,\n    group: null\n}\n\nfunction onMouseDown(event) {\n    let layer = createLayer();\n\n    local.path = new paper.Path();\n    local.path.strokeColor = store.getters.eraserArgs.color;\n    local.path.strokeWidth = store.getters.eraserArgs.size;\n\n    local.path.add(event.point);\n\n    local.group = new paper.Group({\n        children: [local.path],\n        layer: layer\n    });\n    local.group.addChild(new paper.Shape.Ellipse({\n        layer: layer,\n        center: event.point,\n        fillColor: store.getters.eraserArgs.color,\n        radius: store.getters.eraserArgs.size / 2\n    }));\n    layer.addChild(local.group);\n}\n\nfunction onMouseDrag(event) {\n    if (!local.path) return;\n    local.path.add(event.point);\n}\n\nfunction onMouseUp(event) {\n    local.path.add(event.point);\n    local.path.simplify();\n    const action = new DrawAction({\n        layer: local.path.layer.name,\n        tool: {\n            color: store.getters.tool.color,\n            size: store.getters.tool.size\n        },\n        points: local.path.segments.map(seg => {\n            return {\n                x: seg._point._x,\n                y: seg._point._y\n            }\n        })\n    });\n    local.path = null;\n    local.group = null;\n    history.add(action);\n}\n\n\nexport const tool = new paper.Tool();\ntool.onMouseDown = onMouseDown;\ntool.onMouseDrag = onMouseDrag;\ntool.onMouseUp = onMouseUp;"]}]}